import{j as l,a as s,r as d,u as m,b as h,c as S,d as b,e as E,f as y,R,P as O,t as C}from"./vendor.cc130a06.js";const _=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}};_();const v=e=>{const{name:r,email:n,id:c}=e;return l("div",{className:"tc bg-light-green dib br3 pa3 ma2 grow bw2 shadow-5",children:[s("img",{alt:"robot",src:`https://robohash.org/${c}?200x200`}),l("div",{children:[s("h2",{children:r}),s("p",{children:n})]})]})},L=({robots:e})=>s("div",{children:e.map((r,n)=>s(v,{id:e[n].id,name:e[n].name,email:e[n].email},e[n].id))}),N=({searchField:e,searchChange:r})=>s("div",{className:"pa2",children:s("input",{className:"pa3 ba b--green bg-lightest-blue",type:"search",placeholder:"Search robots",onChange:r})}),T=e=>s("div",{style:{overflowY:"scroll",border:"1px solid black",height:"800px"},children:e.children});class F extends d.exports.Component{constructor(r){super(r);this.state={hasError:!1}}componentDidCatch(r,n){this.setState({hasError:!0})}render(){return this.state.hasError?s("h1",{children:"Ooops. That is not good"}):this.props.children}}const u="CHANGE_SEARCH_FIELD",p="REQUEST_ROBOTS_PENDING",f="REQUEST_ROBOTS_SUCCESS",g="REQUEST_ROBOTS_FAILED",P=e=>({type:u,payload:e}),j=()=>e=>{e({type:p}),fetch("https://jsonplaceholder.typicode.com/users").then(r=>r.json()).then(r=>e({type:f,payload:r})).catch(r=>e({type:g,payload:r}))};function w(){const e=m(),{searchField:r}=h(a=>a.searchRobots),{robots:n,isPending:c}=h(a=>a.requestRobots),t=()=>{e(j())},o=a=>{e(P(a.target.value))},i=n.filter(a=>a.name.toLowerCase().includes(r.toLowerCase()));return d.exports.useEffect(()=>{t()},[]),c?s("h1",{children:"Loading"}):l("div",{className:"tc",children:[s("h1",{className:"f1",children:"RoboFriends"}),s(N,{searchChange:o}),s(T,{children:s(F,{children:s(L,{robots:i})})})]})}const x={searchField:""},A=(e=x,r={})=>{switch(r.type){case u:return Object.assign({},e,{searchField:r.payload});default:return e}},B={isPending:!1,robots:[],error:""},D=(e=B,r={})=>{switch(r.type){case p:return Object.assign({},e,{isPending:!0});case f:return Object.assign({},e,{robots:r.payload,isPending:!1});case g:return Object.assign({},e,{error:r.payload,isPending:!1});default:return e}};const I=S.exports.createLogger(),U=b({searchRobots:A,requestRobots:D}),Q=E(U,y(C,I));R.render(s(O,{store:Q,children:s(w,{})}),document.getElementById("root"));
